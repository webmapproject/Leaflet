<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Leaflet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
 
    <style>
      html, body {
	overflow:hidden;
	height:100%;
	}
	
	#header {
  background-color:rgba(255, 255, 255, 0.7);
  color:black;
  text-align:center;
  font-family: "Lucida Sans Unicode", Lucida Grande, sans-serif;
  position:absolute;
  z-index:50;
  right:0;
  left:0;
  top:0;
  }
	
      #map {
        width:100%;
	height:100%;
	position:absolute;
	left:0;	
        }
      
      .btn {
	  margin:3px;
	} 

      .btn-round { 
	font-weight: bold;
	width: 19px;
	height: 19px;
	text-align: center;
	padding: 1px 0;
	font-size: 13px;
	line-height: 0.1;
	border-radius: 30px;
	}
      
      .sidebar {
	position:absolute;
	top:0; right:0; width:250px;
 	bottom:0;
	overflow-x:auto;
	background-color: white;
	margin:0;
	padding:5px;
	font-size:15px;
	border-radius:10px;
	text-align:center;
	z-index:80;
	}
      
      #map-wrapper {
    	width: 100%;
    	height: 100%;
    	position: relative;
	}

      #button-wrapper {
    	position: relative;
    	float: right;
	}
      

    </style>
  
    <script>
    
      //CORS:n aktivointi, mahdollistaa pyyntöjen tekemisen verkkopiirin ulkopuolelta (domain)
    	(function() {
	  var cors_api_host = 'cors-anywhere.herokuapp.com';
	  var cors_api_url = 'https://' + cors_api_host + '/';
	  var slice = [].slice;
	  var origin = window.location.protocol + '//' + window.location.host;
	  var open = XMLHttpRequest.prototype.open;
	  XMLHttpRequest.prototype.open = function() {
	    var args = slice.call(arguments);
	    var targetOrigin = /^https?:\/\/([^\/]+)/i.exec(args[1]);
	    if (targetOrigin && targetOrigin[0].toLowerCase() !== origin &&
	      targetOrigin[1] !== cors_api_host) {
	        args[1] = cors_api_url + args[1];
	      }
	    return open.apply(this, args);
	  };
	})();
    
   
      function init() {
    	
    	//BASEMAP
  	var map = L.map('map').setView([60.1708, 24.9375], 13);
  	var layers = document.getElementById('menu-ui');
  	
  	
  	//L.mapbox.accessToken = 'pk.eyJ1IjoicGVzb25ldDEiLCJhIjoiY2lqNXJua2k5MDAwaDI3bTNmaGZqc2ZuaSJ9.nmLkOlsQKzwMir9DfmCNPg';
	//var map = L.mapbox.map('map', 'mapbox.streets').setView([60.1708, 24.9375], 13);
  	
  	
  	var basemap = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoicGVzb25ldDEiLCJhIjoiY2lqNXJua2k5MDAwaDI3bTNmaGZqc2ZuaSJ9.nmLkOlsQKzwMir9DfmCNPg', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(map);
	
	
      }
      
    </script>
  </head>  
    
  <body onload="init()">  
    
    <!-- MapBox scriptit -->
<!--    <script src='https://api.mapbox.com/mapbox.js/v2.2.4/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.4/mapbox.css' rel='stylesheet' />
-->    
    <!-- Leaflet scriptit -->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    
    <!-- jQuery scriptit -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    
    <!-- Bootstarp scriptit -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
   
    <!--ESRI-leaflet scripti -->
<!--    <script src="http://pesonet1.github.io/Leaflet/esri-leaflet.js"></script> -->

    <!-- Turf -->
    <script src="https://pesonet1.github.io/Leaflet/turf.min.js"></script>
    
    
    <!-- Sivupalkin piilotus -->
    <script>
      function toggleControlPanel(){
        var sidebar = document.getElementById("sidebar");
        if (sidebar.style.display == "none") {
          sidebar.style.display = "block";
        }
        else {
          sidebar.style.display = "none";
        }
      }
    </script>
    
     <!-- Header osio, johon tulee otsikko ja ehka joki valikko -->
    <div class="container-fluid">
    <div id="header">
        <h1><span>Helsinki Building years</span></h1>
       
      <div class="ol-toggle-options">  
     <button class="btn btn-primary" title="Sivupalkki" onClick="toggleControlPanel()" href="#toggle">Menu</button>   
        </div>
        <div id="slider">

        </div>
        <div>

        </div>
        <div style="height:20px;">

        </div>
  </div>
 
    
   <div class="span9" style="height:100%">
      <div id="map-wrapper">
    	<div id="map"></div>
  	<div id="button-wrapper">  
	    <button class="btn btn-primary" title="Sivupalkki" onClick="toggleControlPanel()" href="#toggle">Valikko</button>   
    	</div>
      </div>
    
      <div id='sidebar' class='sidebar' style="display: none;">
    	  <button class="btn btn-primary" title="Sivupalkki" onClick="toggleControlPanel()" href="#toggle">Sulje valikko</button>
      </div>
    </div>
    	
    <nav id='menu-ui' class='menu-ui'></nav>




  <div id='sidebar' class='sidebar' style="display: none;"
  >
            
      <button class="btn btn-primary" title="Sivupalkki" onClick="toggleControlPanel()" href="#toggle">Hide menu</button>   

       <div style="text-align: left; margin-left:1%;">
               <form>
          <input type="radio" name="rbtnlist_maptype" value="1" checked="true" onchange="handleChange(1);"/>Road map<br />
          <input type="radio" name="rbtnlist_maptype" value="0" onchange="handleChange(0);" />Satellite<br />
          <input type="radio" name="rbtnlist_maptype" value="2" onchange="handleChange(2);" />Hybrid<br />
          <input type="radio" name="rbtnlist_maptype" value="3" onchange="handleChange(3);" />Terrain<br />
        </form></div>
  <br><br>
  
  <!-- Lisaa kartan halutulla koolla -->
    <div class="container-fluid">
  <div id="map">
    </div>
    
  </body>
</html>
